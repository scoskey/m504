\documentclass[12pt]{exam}

\newcommand{\docname}{Euclidean algorithm extended activity}

% \printanswers
\lhead[Math 404/504]{Page \thepage\ of \numpages}
\rhead{\docname}
\cfoot{}
\headrule
\usepackage{mathpazo,amsmath,amssymb}
\newcommand{\set}[1]{\left\{\,#1\,\right\}}
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\renewcommand{\labelenumi}{(\alph{enumi})}
\renewcommand{\labelitemi}{$\circ$}
\usepackage{tikz}

\usepackage{listings}
\lstset{basicstyle=\small,frame=l,xleftmargin=.5in}

\begin{document}
\begin{questions}
  \question The following is a solution to Silverman, exercise 6.3(b).
  \begin{lstlisting}
def gcd2(a,b):
    if a==0 or b==0:
        print ( f'so gcd is {max(a,b)} and...' )
        return max(a,b), 1, 0
    q, r = a//b, a%b
    print ( f'{a} = ({q}){b} + {r}' )
    d, x, y = gcd2(b, r)
    x, y = y, x-y*q
    print ( f'{d} = ({x}){a} + ({y}){b}' )
    return d, x, y
  \end{lstlisting}
  Copy this code to a jupyter.org notebook, or if your group agrees, use your own programming setup. Then experiment by plugging many different pairs $a,b$ into the gcd function.

  In particular, use the code to find integer solutions to $ax+by=d$ for the following pairs $a,b$:
  \[\text{(i)}\quad(19789, 23548)\quad
  \text{(ii)}\quad(31875, 8387)\quad
  \text{(iii)}\quad(22241739, 19848039)
    \]
  \vspace{.75in}
  \question The program returns just one solution, but there is always more than one solution. To get an alternative solution, you can replace the ``$0$'' in the fourth line with other numbers.
  
   But how do we find new solutions from old? Fill in the question marks: If $(x_0,y_0)$ is a solution to $ax+by=d$, then $(?,?)$ is a solution to $ax+by=d$ too. Your two answers could depend on $a,b,x_0,y_0$.

  [Hint: if $ax_0+by_0=d$ then $ax_0+ab+by_0-ab=d$.]
  \vspace{\fill}
  \question If you can, modify the code so that it always returns a solution with $x>0$.
  \newpage
  \question The following is Silverman, exercise 6.4. Now consider an equation with three variables such as $6x+15y+20z=1$
  \begin{parts}
    \part Solve the equation in two parts: $6x+15y=d$ (where $d$ is the gcd of just $6$ and $15$), and then $wd+20z=1$. How does this lead to a solution $x,y,z$?
    \vspace{2.5in}
    \part Now apply the same method to solve $155x+341y+385z=1$.
  \end{parts}
\end{questions}
\end{document}


